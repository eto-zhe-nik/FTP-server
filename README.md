# FTP-server
Deploying ftp server on pc or laptop for file transfer

Разбираясь в темах «Информационной безопасности», нельзя пройти мимо темы ftp, решил заодно развернуть для практики ftp-сервер на пк. Делается это просто, ниже будет описание действий для тех, кому это необходимо.
Так же если ваша версия windows - HOME - то настроить добавить пользователей необходимо через консоль, т.к. вкладка "локальные пользователи" недоступна на данной версии винды.
Не подключал защиту ssl, позже дополню, когда доберусь до certBOT или сделаю самоподписанный сертификат.
Кому необходимо для подключения Android<--->PC есть путь проще, можно просто скачать ES проводник на телефон.

Итак, для начала устанавливаем на наш пк ftp-сервис, делаем это через компоненты виндовс. Далее заходим в "Диспетчер служб IIS" --> название вашего пк --> сайты добавить FTP сайт, далее все делаете по пунктам ничего сложного, в проверке подлинности 2 галочки. 
После этого переходим в (панель управления -> администрирование) Brandmower надо включить правила входящих подключений --> "FTP-сервер (входящий трафик FTP)", "Пассивный FTP-сервер (пассивный входящий трафик FTP)" и исходящих "FTP-сервер (исходящий трафик FTP)". Если поставить включить "Безопасный FTP сервер" то он работать не будет, т.к. нет сертификатов безопасности.
Теперь через "Администрирование" заходим во вкладку "Управление компьютером". Заходим в локальные пользователи. Теперь нам нужно создать пользователей, которые будут иметь доступ к ftp серверу, если у вас версия домашняя версия виндовс добавляете пользователей через консоль. Я это сделаю так же через консоль.
В командную строку, от имени администратора - net user имя_пользователя пароль /add - добавляем пользователя. Для назначения администратора - net localgroup Administrators имя_пользователя /add
Далее в свойствах нашей папки, созданной для FTP сервера, добавляем созданного нами пользователя и добавляем для него необходимые возможности.
После заходим в диспетчер служб IIS, открываем наш сервер, далее правила авторизации. Добавляем нашего пользователя, даем разрешения, так же можно настроить в неавторизованных пользователей.
Еще стоит настроить журнал, где будет сохраняться информация о изменениях и входах на сервер.
И остается финишная прямая, мы заходим в настройки роутера и там настраиваем правила подключения во вкладке DHCP, что бы нашему пк постоянно присваивался один и тот же ip, это можно сделать и через свойства подключения. 
Все, можно подключаться, я лично это делаю через FileZilla, можно на прямую через винду. 
FileZilla - вводите ip (можно найти в свойствах сети пк на котором работает ftp), имя созданного пользователя и пароль, порт автоматически присваивается 21 (видно какой порт при создании сервера).
Но уточня, подключение не защищено, при желании злоумышленник можно подключиться и прослушать передаваемые данные, тем самым узнать пароль. Можно сделать самоподписанный сертификат, для того, что бы у вас был ftps. Это и зашифрует передаваемые данные.
Подключение ssl конечно поднимет уровень безопасности, но может давать сбои в фаерволе или nat. Если есть погоня за безопасностью возможно стоит посмотреть в сторону SFTP.

UPD - добавил самоподписаный сертификат, ничего сложного. В диспетчере служб IIS, нажимаете на свой имя своего пк --> там ищите сертификаты сервера, после нажимаете создать самозаверенный сертификат. Так же сразу в брандмаувере сразу находите диапазон портов и меняете его. На свой доступный диапазон, например 5000-5100.
Затем на своем сервере в этом же диспетчере --> параметры ssl сертификата, выбираете свой. Проверяете. После этих манипуляций, все работало. В FZ при подключении должено появляться предупреждение "Сертификат сервера неизвестен, вы доверяете этому сертификату?" - если это окно появляется значит все работает верно.


